\ProvidesPackage{bookgen}

% Package includes %
\RequirePackage[usenames,dvipsnames,svgnames,table]{xcolor}
\RequirePackage[pages=some]{background}
\RequirePackage{mfirstuc,newunicodechar,quoting,lettrine,extdash}
\RequirePackage[normalem]{ulem}
\RequirePackage[hyphens]{url}
\RequirePackage[breaklinks]{hyperref}

% Unicode character substitutions %
\newunicodechar{⁠}{\nolinebreak}
\newunicodechar{​}{\linebreak[0]}
\newunicodechar{­}{\-}
\newunicodechar{‐}{\Hyphdash}
\newunicodechar{‑}{\Hyphdash*}
\newunicodechar{ }{~}
\newunicodechar{ }{\thinspace}
\newunicodechar{ }{\enspace}
\newunicodechar{ }{\quad}

% Draft mark %
\providecommand{\draftmark}{\backgroundsetup{
    contents={\Huge DRAFT},
    color={red},
    angle={-18},
    opacity={.65},
    scale={1},
    position={12pc,-4pc},
    nodeanchor={north west}
}\BgThispage}
\newcommand{\pagedraftmark}{}
\newcommand{\potentialdraftmark}{}
\newcommand{\thecopyright}{{©~\yearinfo{} \authorinfo{}. \rightsinfo{}}}
\newcommand{\DraftOn}{
	\renewcommand{\pagedraftmark}{{\bfseries\color{red!70!white} DRAFT}}
	\renewcommand{\potentialdraftmark}{{\draftmark}}
	\renewcommand{\thecopyright}{{Unpublished draft \yearinfo{} \authorinfo. \rightsinfo{}}}
}
\newcommand{\DraftOff}{
	\renewcommand{\pagedraftmark}{}
	\renewcommand{\potentialdraftmark}{}
	\renewcommand{\thecopyright}{{©~\yearinfo{} \authorinfo{}. \rightsinfo{}}}
}
\makeevenhead{simple}{\thepage}{}{\pagedraftmark}
\makeoddhead{simple}{\pagedraftmark}{}{\thepage}
\DraftOn

% Metadata setup %
\providecommand{\authorinfo}{Anonymous}
\providecommand{\descriptioninfo}{}
\providecommand{\downloaduri}{}
\providecommand{\draftinfo}{\today}
\providecommand{\homepageuri}{}
\providecommand{\keywordsinfo}{}
\providecommand{\nouninfo}{}
\providecommand{\profileuri}{}
\providecommand{\publisherinfo}{Self‑published}
\providecommand{\repositoryuri}{}
\providecommand{\rightsinfo}{All rights reserved.}
\providecommand{\seriesinfo}{}
\providecommand{\titleinfo}{A Work}
\providecommand{\yearinfo}{\the\year}
\providecommand{\styleinfo}{Standard}
\providecommand{\bookgentype}{standalone}

%%  Underline setup:  %%
\setlength{\ULdepth}{.5ex}

% Link setup %
\mathchardef\UrlBreakPenalty=0
\mathchardef\UrlBigBreakPenalty=0
\renewcommand{\UrlFont}{}

% Colors setup %
\providecolor{shadecolor}{named}{Gainsboro}

% Styles setup %
\providecommand{\attnfont}{\bfseries} % <b>
\providecommand{\citefont}{\itshape} % <cite>
\providecommand{\codefont}{\ttfamily} % <cite>
\providecommand{\delfont}{\markoverwith{\hbox to.35em{\hss/\hss}}\ULon} % <del>
\providecommand{\insertfont}{\UL@setULdepth \markoverwith{\lower\ULdepth\hbox {\kern-.03em\vbox{\hrule width.2em\kern1.2\p@\hrule}\kern-.03em}}\ULon} % <ins>
\providecommand{\linkfont}{\UL@setULdepth \markoverwith{\kern.13em \vtop{\kern\ULdepth \hrule width .3em} \kern.13em}\ULon} % <a>
\providecommand{\offsetfont}{\itshape} % <i>
\providecommand{\smallfont}{\small} % <del>
\providecommand{\strikefont}{\ULdepth=-.55ex \ULset} % <del>
\providecommand{\termfont}{\bfseries\itshape} % <dfn>
\providecommand{\versefont}{\itshape} % <div class="verse">

% Miscellaneous commands %
\providecommand{\thecopyright}{©~\yearinfo{} \authorinfo{}. \rightsinfo{}}
\providecommand{\makecopyright}{\clearpage\null
\vfill
\noindent\tiny \thecopyright\par
\medskip
\noindent\styleinfo{} Edition, \draftinfo{}.\par
\vfill\clearpage}
\providecommand{\beforefulltext}{}
\providecommand{\afterfulltext}{}
